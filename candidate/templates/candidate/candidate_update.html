{% extends "screening/base.html" %}
{% load static %}
{% load crispy_forms_tags %}

{% block css %}
    <link rel="stylesheet" href="{% static 'dashboard/vendor/libs/select2/select2.css' %}" />
    <link rel="stylesheet" href="{% static 'dashboard/vendor/libs/bootstrap-select/bootstrap-select.css' %}" />
    <link rel="stylesheet" href="{% static 'dashboard/vendor/libs/bootstrap-datepicker/bootstrap-datepicker.css' %}" />
    <link rel="stylesheet" href="{% static 'dashboard/vendor/libs/@form-validation/form-validation.css' %}" />
    <link rel="stylesheet" href="{% static 'dashboard/vendor/libs/dropzone/dropzone.css' %}" />
    <link rel="stylesheet" href="{% static 'dashboard/vendor/libs/pickr/pickr-themes.css' %}" />



{% endblock css %}

{% block content %}
<button onclick="window.history.back()" type="button" class="btn btn-outline-primary mb-2">
    <span class="ti-xs ti ti-chevron-left me-2"></span>Back
</button>
<div class="card mb-6">
    <h5 class="card-header">Update Candidate</h5>
    <form class="card-body" id="formAuthentication" enctype="multipart/form-data" method="post">
        {% csrf_token %}
        <div class="row">
          <div class="col-md-12">
<!--              {% if form.errors %}-->
<!--                  {% for field, errors in form.errors.items %}-->
<!--                      {% for error in errors %}-->
<!--                          <div class="error-message text-danger">{{ error }}</div>-->
<!--                      {% endfor %}-->
<!--                  {% endfor %}-->
<!--                  {% endif %}-->
            <div class="row g-6">
              <div class="col-md-3">
                <label class="form-label" for="id_job_openings">Hiring For
                </label>
                  <select name="job_openings" id="id_job_openings" class="selectpicker w-100"
                          data-show-subtext="true" data-placeholder="Select" data-style="btn-default"
                          data-allow-clear="true">

                  {% for choice in choices %}

                    <option value="{{ choice.id }}" data-subtext="{{ choice.organization }}" {% if form.job_openings.value == choice.id %}selected{% endif %}>{{ choice.designation }}</option>

                  {% endfor %}
                </select>
                  {% if form.errors %}
                  {% for error in form.job_openings.errors %}
                    <div class="error-message text-danger">{{ error }}</div>
                  {% endfor %}
                  {% endif %}
              </div>
              <div class="col-md-3">
                <label class="form-label" for="id_name">Candidate Name
                    <span>*</span>
                </label>
                <input type="text" id="id_name" name="name" value="{{ form.name.value|default_if_none:'' }}" class="form-control" required/>
                  {% if form.errors %}
                  {% for error in form.name.errors %}
                    <div class="error-message text-danger">{{ error }}</div>
                  {% endfor %}
                  {% endif %}

              </div>
              <div class="col-md-3">
                <label class="form-label" for="id_contact">Contact
                    <span>*</span>
                </label>
                <input name="contact" value="{{ form.contact.value|default_if_none:'' }}" id="id_contact" class="form-control" required/>
                  {% if form.errors %}
                  {% for error in form.contact.errors %}
                    <div class="error-message text-danger">{{ error }}</div>
                  {% endfor %}
                  {% endif %}
              </div>
              <div class="col-md-3">
                <label for="id_email" class="form-label">Email
                    <span>*</span>
                </label>
                <input type="email" id="id_email" name="email" value="{{ form.email.value|default_if_none:'' }}" class="form-control" required/>
                  {% if form.errors %}
                  {% for error in form.email.errors %}
                    <div class="error-message text-danger">{{ error }}</div>
                  {% endfor %}
                  {% endif %}
              </div>
              <div class="col-md-3">
                  <label for="id_location" class="form-label">Location
                    <span>*</span>
                  </label>
                  <input type="text" id="id_location" name="location" value="{{ form.location.value|default_if_none:'' }}" class="form-control" required/>
                  {% if form.errors %}
                  {% for error in form.location.errors %}
                    <div class="error-message text-danger">{{ error }}</div>
                  {% endfor %}
                  {% endif %}
              </div>
              <div class="col-md-3">
                  <label for="id_dob" class="form-label">Date of Birth
                    <span>*</span>
                  </label>
                  <input id="id_dob" name="dob" value="{{ form.dob.value|date:'Y-m-d'|default_if_none:'' }}" type="date" class="form-control" required/>  <!-- class = bs-datepicker-format  -->
                  {% if form.errors %}
                  {% for error in form.dob.errors %}
                    <div class="error-message text-danger">{{ error }}</div>
                  {% endfor %}
                  {% endif %}
              </div>
              <div class="col-md-3">
                  <label for="id_doc" class="form-label">Date of Contact
                  </label>
                  <input id="id_doc" name="doc" value="{{ form.doc.value|date:'Y-m-d'|default_if_none:'' }}" type="date" class="form-control"/>
                  {% if form.errors %}
                  {% for error in form.doc.errors %}
                    <div class="error-message text-danger">{{ error }}</div>
                  {% endfor %}
                  {% endif %}
              </div>
              <div class="col-md-3">
                <label class="form-label" for="id_linkedin">LinkedIn
                </label>
                <input id="id_linkedin" type="text" name="linkedin" value="{{ form.linkedin.value|default_if_none:'' }}" class="form-control"/>
                  {% if form.errors %}
                  {% for error in form.linkedin.errors %}
                    <div class="error-message text-danger">{{ error }}</div>
                  {% endfor %}
                  {% endif %}
              </div>
              <div class="col-md-3">
                <label class="form-label" for="id_github">GitHub</label>
                <input id="id_github" type="text" name="github" value="{{ form.github.value|default_if_none:'' }}" class="form-control"/>
                  {% if form.errors %}
                  {% for error in form.github.errors %}
                    <div class="error-message text-danger">{{ error }}</div>
                  {% endfor %}
                  {% endif %}
              </div>
              <div class="col-md-3">
                <label class="form-label" for="id_portfolio">Portfolio</label>
                <input id="id_portfolio" type="text" name="portfolio" value="{{ form.portfolio.value|default_if_none:'' }}" class="form-control"/>
                  {% if form.errors %}
                  {% for error in form.portfolio.errors %}
                    <div class="error-message text-danger">{{ error }}</div>
                  {% endfor %}
                  {% endif %}
              </div>
              <div class="col-md-3">
                <label class="form-label" for="id_blog">Blog</label>
                <input id="id_blog" type="text" name="blog" value="{{ form.blog.value|default_if_none:'' }}" class="form-control"/>
                  {% if form.errors %}
                  {% for error in form.blog.errors %}
                    <div class="error-message text-danger">{{ error }}</div>
                  {% endfor %}
                  {% endif %}
              </div>

              <div class="col-md-3">
                <label class="form-label" for="id_education">Education (Degree)
                    <span>*</span>
                </label>
                <input id="id_education" type="text" name="education" value="{{ form.education.value|default_if_none:'' }}" class="form-control" required/>
                  {% if form.errors %}
                  {% for error in form.education.errors %}
                    <div class="error-message text-danger">{{ error }}</div>
                  {% endfor %}
                  {% endif %}
              </div>
              <div class="col-md-3">
                <label class="form-label" for="id_experience">Experience (in years)
                    <span>*</span>
                </label>
                <input id="id_experience" type="number" name="experience" value="{{ form.experience.value|default_if_none:'' }}" class="form-control" required/>
                  {% if form.errors %}
                  {% for error in form.experience.errors %}
                    <div class="error-message text-danger">{{ error }}</div>
                  {% endfor %}
                  {% endif %}
              </div>
              <div class="col-md-3">
                <label class="form-label" for="id_current_designation">Current Designation</label>
                <input id="id_current_designation" type="text" name="current_designation" value="{{ form.current_designation.value|default_if_none:'' }}" class="form-control"/>
                  {% if form.errors %}
                  {% for error in form.current_designation.errors %}
                    <div class="error-message text-danger">{{ error }}</div>
                  {% endfor %}
                  {% endif %}
              </div>
              <div class="col-md-3">
                <label class="form-label" for="id_current_organization">Current Organization</label>
                <input id="id_current_organization" type="text" name="current_organization" value="{{ form.current_organization.value|default_if_none:'' }}" class="form-control"/>
                  {% if form.errors %}
                  {% for error in form.current_organization.errors %}
                    <div class="error-message text-danger">{{ error }}</div>
                  {% endfor %}
                  {% endif %}
              </div>
              <div class="col-md-3">
                <label class="form-label" for="id_current_ctc">Current CTC (in LPA)
                    <span>*</span>
                </label>
                <input id="id_current_ctc" type="number" step="any" name="current_ctc" value="{{ form.current_ctc.value|default_if_none:'' }}" class="form-control" required/>
                  {% if form.errors %}
                  {% for error in form.current_ctc.errors %}
                    <div class="error-message text-danger">{{ error }}</div>
                  {% endfor %}
                  {% endif %}
              </div>
              <div class="col-md-3">
                <label class="form-label" for="id_current_ctc_ih">Current CTC (in hand)</label>
                <input id="id_current_ctc_ih" type="number" step="any" name="current_ctc_ih" value="{{ form.current_ctc_ih.value|default_if_none:'' }}" class="form-control"/>
                  {% if form.errors %}
                  {% for error in form.current_ctc_ih.errors %}
                    <div class="error-message text-danger">{{ error }}</div>
                  {% endfor %}
                  {% endif %}
              </div>
              <div class="col-md-3">
                <label class="form-label" for="id_expected_ctc">Expected CTC (in LPA)
                    <span>*</span>
                </label>
                <input id="id_expected_ctc" type="number" step="any" name="expected_ctc" value="{{ form.expected_ctc.value|default_if_none:'' }}" class="form-control" required/>
                  {% if form.errors %}
                  {% for error in form.expected_ctc.errors %}
                    <div class="error-message text-danger">{{ error }}</div>
                  {% endfor %}
                  {% endif %}
              </div>
              <div class="col-md-3">
                <label class="form-label" for="id_expected_ctc_ih">Expected CTC (in hand)</label>
                <input id="id_expected_ctc_ih" type="number" step="any" name="expected_ctc_ih" value="{{ form.expected_ctc_ih.value|default_if_none:'' }}" class="form-control"/>
                  {% if form.errors %}
                  {% for error in form.expected_ctc_ih.errors %}
                    <div class="error-message text-danger">{{ error }}</div>
                  {% endfor %}
                  {% endif %}
              </div>
              <div class="col-md-3">
                <label class="form-label" for="id_offer_in_hand">Offer in hand (if any)(in LPA)</label>
                <input id="id_offer_in_hand" type="number" step="any" name="offer_in_hand" value="{{ form.offer_in_hand.value|default_if_none:'' }}" class="form-control"/>
                  {% if form.errors %}
                  {% for error in form.offer_in_hand.errors %}
                    <div class="error-message text-danger">{{ error }}</div>
                  {% endfor %}
                  {% endif %}
              </div>
              <div class="col-md-3">
                <label class="form-label" for="id_notice_period">Notice Period (in days)
                    <span>*</span>
                </label>
                <input id="id_notice_period" type="number" name="notice_period" value="{{ form.notice_period.value|default_if_none:'' }}" class="form-control" required/>
                  {% if form.errors %}
                  {% for error in form.notice_period.errors %}
                    <div class="error-message text-danger">{{ error }}</div>
                  {% endfor %}
                  {% endif %}
              </div>
              <div class="col-md-3">
                <label class="form-label" for="id_reason_for_change">Reason For Change</label>
                <input id="id_reason_for_change" type="text" name="reason_for_change" value="{{ form.reason_for_change.value|default_if_none:'' }}" class="form-control"/>
                  {% if form.errors %}
                  {% for error in form.reason_for_change.errors %}
                    <div class="error-message text-danger">{{ error }}</div>
                  {% endfor %}
                  {% endif %}
              </div>
              <div class="col-md-3">
                <label class="form-label" for="id_feedback">Feedback</label>
                <input id="id_feedback" type="text" name="feedback" value="{{ form.feedback.value|default_if_none:'' }}" class="form-control"/>
                  {% if form.errors %}
                  {% for error in form.feedback.errors %}
                    <div class="error-message text-danger">{{ error }}</div>
                  {% endfor %}
                  {% endif %}
              </div>
            </div>
          </div>
        </div>

        <div class="pt-6">
          <button type="submit" class="btn btn-primary me-4">Update</button>
        </div>
      </form>
</div>



{% endblock content %}


{% block js %}

<!--    <script src="{% static 'dashboard/vendor/libs/select2/select2.js' %}"></script>-->
    <script src="{% static 'dashboard/js/forms-selects.js' %}"></script>
    <script src="{% static 'dashboard/vendor/libs/bootstrap-select/bootstrap-select.js' %}"></script>
    <script src="{% static 'dashboard/vendor/libs/bootstrap-datepicker/bootstrap-datepicker.js' %}"></script>
    <script src="{% static 'dashboard/vendor/libs/@form-validation/popular.js' %}"></script>
    <script src="{% static 'dashboard/vendor/libs/@form-validation/bootstrap5.js' %}"></script>
    <script src="{% static 'dashboard/vendor/libs/@form-validation/auto-focus.js' %}"></script>
    <script src="{% static 'dashboard/vendor/libs/pickr/pickr.js' %}"></script>
    <script src="{% static 'dashboard/js/forms-pickers.js' %}"></script>
<!--    <script src="{% static 'dashboard/vendor/libs/dropzone/dropzone.js' %}"></script>-->
    <script src="{% static 'dashboard/js/forms-file-upload.js' %}"></script>
    <script src="{% static 'dashboard/js/job_opening_create.js' %}"></script>




{% endblock js %}